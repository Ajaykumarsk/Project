<div class="container mt-4" [formGroup]="departmentForm">

    <!-- Modal Dialog for Adding Department -->
    <p-dialog header="Add Department" [(visible)]="displayDialog" [modal]="true" [responsive]="true" [style]="{width: '400px'}" >
        <form (ngSubmit)="addDepartment()" [formGroup]="departmentForm">
            <div class="p-field">
                <label for="name">Department</label>
                <input id="departmentName" type="text" pInputText formControlName="departmentName" placeholder=" Name">
              </div>
            <div class="flex justify-content-center gap-2">
            <p-button label="Add" type="submit" class="p-button-primary"></p-button>
            <p-button label="Cancel" class="p-button-secondary" (click)="hideDialog()"></p-button>
        </div>
        </form>
    </p-dialog>
  
    <!-- Department Table -->
    <!-- <h2 class="text-center mt-5 mb-3">Departments</h2> -->
    <div class="p-grid">
      <div class="col-12">
          <div class="card">
            <p-table [value]="departments" styleClass="p-datatable-gridlines">
                <ng-template pTemplate="caption">
                    <div class="flex">
                        <p-button label="Add" class="p-button-primary" (click)="showDialog()"></p-button>
                        </div>
                        </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th>Department ID</th>
                        <th>Department Name</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-department>
                    <tr>
                        <td>{{ department.id }}</td>
                        <td>{{ department.name }}</td>
                        <td>
                            <div class="flex justify-content-center gap-2">
                                <button pButton icon="pi pi-pencil" [routerLink]="'/updatedepartment/' + department.id" class="p-button-success"></button>
                                <p-toast />
                                <p-confirmPopup>
                                    <ng-template pTemplate="content" let-message>
                                        <div class="flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border p-3 mb-3">
                                            <i [class]="message.icon" class="text-6xl text-primary-500"></i>
                                            <p>{{ message.message }}</p>
                                        </div>
                                    </ng-template>
                                </p-confirmPopup>
                                <p-button (click)="confirm($event,department.id)" icon="pi pi-trash"></p-button></div>
                            </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
  </div>
  